(window.webpackJsonpcurex=window.webpackJsonpcurex||[]).push([[0],{361:function(t,e,n){"use strict";function i(t,e){var n,i;return"boolean"==typeof(null==e?void 0:e.enabled)?e.enabled:null===(i=null===(n=null==t?void 0:t.__default)||void 0===n?void 0:n.enabled)||void 0===i||i}n.d(e,"a",(function(){return i}))},369:function(t,e,n){"use strict";n.r(e),n.d(e,"LegacyDestination",(function(){return z})),n.d(e,"ajsDestinations",(function(){return _}));var i=n(0),r=n(50),o=n(40),a=n(24),s=n(102),c=n(10),u=n(361),l=n(184),d=n(190),h=n(66),v=n(65),b=n(186),f=n(84),p=n(110);function g(t){return t.toLowerCase().replace(".","").replace(/\s+/g,"-")}function j(t,e){return void 0===e&&(e=!1),e?btoa(t).replace(/=/g,""):void 0}function y(t,e,n,r){return Object(i.b)(this,void 0,void 0,(function(){var o,a,s,c,u,l;return Object(i.e)(this,(function(d){switch(d.label){case 0:o=g(e),a=j(o,r),s=Object(f.b)(),c="".concat(s,"/integrations/").concat(null!=a?a:o,"/").concat(n,"/").concat(null!=a?a:o,".dynamic.js.gz"),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,Object(p.a)(c)];case 2:return d.sent(),function(t,e,n){var r,o;try{var a=(null!==(o=null===(r=null===window||void 0===window?void 0:window.performance)||void 0===r?void 0:r.getEntriesByName(t,"resource"))&&void 0!==o?o:[])[0];a&&e.stats.gauge("legacy_destination_time",Math.round(a.duration),Object(i.g)([n],a.duration<100?["cached"]:[],!0))}catch(t){}}(c,t,e),[3,4];case 3:throw u=d.sent(),t.stats.gauge("legacy_destination_time",-1,["plugin:".concat(e),"failed"]),u;case 4:return l=window["".concat(o,"Deps")],[4,Promise.all(l.map((function(t){return Object(p.a)(s+t+".gz")})))];case 5:return d.sent(),window["".concat(o,"Loader")](),[2,window["".concat(o,"Integration")]]}}))}))}var O=n(87),m=n(38);function w(t,e){return Object(i.b)(this,void 0,void 0,(function(){var n,r=this;return Object(i.e)(this,(function(s){switch(s.label){case 0:return n=[],Object(o.a)()?[2,e]:[4,Object(d.a)((function(){return e.length>0&&Object(o.b)()}),(function(){return Object(i.b)(r,void 0,void 0,(function(){var r,o;return Object(i.e)(this,(function(i){switch(i.label){case 0:return(r=e.pop())?[4,Object(c.g)(r,t)]:[2];case 1:return o=i.sent(),o instanceof a.a||n.push(r),[2]}}))}))}))];case 1:return s.sent(),n.map((function(t){return e.pushWithBackoff(t)})),[2,e]}}))}))}var z=function(){function t(t,e,n,r,o,a){void 0===r&&(r={});var s=this;this.options={},this.type="destination",this.middleware=[],this.initializePromise=Object(m.b)(),this.flushing=!1,this.name=t,this.version=e,this.settings=Object(i.a)({},r),this.disableAutoISOConversion=o.disableAutoISOConversion||!1,this.integrationSource=a,this.settings.type&&"browser"===this.settings.type&&delete this.settings.type,this.initializePromise.promise.then((function(t){return s._initialized=t}),(function(){})),this.options=o,this.buffer=o.disableClientPersistence?new h.a(4,[]):new v.a(4,"".concat(n,":dest-").concat(t)),this.scheduleFlush()}return t.prototype.isLoaded=function(){return!!this._ready},t.prototype.ready=function(){var t=this;return this.initializePromise.promise.then((function(){var e;return null!==(e=t.onReady)&&void 0!==e?e:Promise.resolve()}))},t.prototype.load=function(t,e){var n;return Object(i.b)(this,void 0,void 0,(function(){var r,o,a=this;return Object(i.e)(this,(function(i){switch(i.label){case 0:return this._ready||void 0!==this.onReady?[2]:null===(n=this.integrationSource)||void 0===n?[3,1]:(o=n,[3,3]);case 1:return[4,y(t,this.name,this.version,this.options.obfuscate)];case 2:o=i.sent(),i.label=3;case 3:r=o,this.integration=function(t,e,n){var i;"Integration"in t?(t({user:function(){return n.user()},addIntegration:function(){}}),i=t.Integration):i=t;var r=new i(e);return r.analytics=n,r}(r,this.settings,e),this.onReady=new Promise((function(t){a.integration.once("ready",(function(){a._ready=!0,t(!0)}))})),this.integration.on("initialize",(function(){a.initializePromise.resolve(!0)}));try{Object(O.a)(t,{integrationName:this.name,methodName:"initialize",type:"classic"}),this.integration.initialize()}catch(e){throw Object(O.a)(t,{integrationName:this.name,methodName:"initialize",type:"classic",didError:!0}),this.initializePromise.resolve(!1),e}return[2]}}))}))},t.prototype.unload=function(t,e){return function(t,e,n){return Object(i.b)(this,void 0,void 0,(function(){var r,o,a,s;return Object(i.e)(this,(function(i){return r=Object(f.b)(),o=g(t),a=j(t,n),s="".concat(r,"/integrations/").concat(null!=a?a:o,"/").concat(e,"/").concat(null!=a?a:o,".dynamic.js.gz"),[2,Object(p.b)(s)]}))}))}(this.name,this.version,this.options.obfuscate)},t.prototype.addMiddleware=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.middleware=(t=this.middleware).concat.apply(t,e)},t.prototype.shouldBuffer=function(t){return"page"!==t.event.type&&(Object(o.a)()||!0!==this._ready||!0!==this._initialized)},t.prototype.send=function(t,e,n){var r,o;return Object(i.b)(this,void 0,void 0,(function(){var s,c,l,d,h,v;return Object(i.e)(this,(function(f){switch(f.label){case 0:return this.shouldBuffer(t)?(this.buffer.push(t),this.scheduleFlush(),[2,t]):(s=null===(o=null===(r=this.options)||void 0===r?void 0:r.plan)||void 0===o?void 0:o.track,c=t.event.event,s&&c&&"Segment.io"!==this.name&&(l=s[c],Object(u.a)(s,l)?t.updateEvent("integrations",Object(i.a)(Object(i.a)({},t.event.integrations),null==l?void 0:l.integrations)):(t.updateEvent("integrations",Object(i.a)(Object(i.a)({},t.event.integrations),{All:!1,"Segment.io":!0})),t.cancel(new a.b({retry:!1,reason:"Event ".concat(c," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),(null==l?void 0:l.enabled)&&!1===(null==l?void 0:l.integrations[this.name])&&t.cancel(new a.b({retry:!1,reason:"Event ".concat(c," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"}))),[4,Object(b.applyDestinationMiddleware)(this.name,t.event,this.middleware)]);case 1:if(null===(d=f.sent()))return[2,t];h=new e(d,{traverse:!this.disableAutoISOConversion}),Object(O.a)(t,{integrationName:this.name,methodName:n,type:"classic"}),f.label=2;case 2:return f.trys.push([2,5,,6]),this.integration?[4,this.integration.invoke.call(this.integration,n,h)]:[3,4];case 3:f.sent(),f.label=4;case 4:return[3,6];case 5:throw v=f.sent(),Object(O.a)(t,{integrationName:this.name,methodName:n,type:"classic",didError:!0}),v;case 6:return[2,t]}}))}))},t.prototype.track=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(e){return[2,this.send(t,r.Track,"track")]}))}))},t.prototype.page=function(t){var e;return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(n){switch(n.label){case 0:return(null===(e=this.integration)||void 0===e?void 0:e._assumesPageview)&&!this._initialized&&this.integration.initialize(),[4,this.initializePromise.promise];case 1:return n.sent(),[2,this.send(t,r.Page,"page")]}}))}))},t.prototype.identify=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(e){return[2,this.send(t,r.Identify,"identify")]}))}))},t.prototype.alias=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(e){return[2,this.send(t,r.Alias,"alias")]}))}))},t.prototype.group=function(t){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.e)(this,(function(e){return[2,this.send(t,r.Group,"group")]}))}))},t.prototype.scheduleFlush=function(){var t=this;this.flushing||setTimeout((function(){return Object(i.b)(t,void 0,void 0,(function(){var t;return Object(i.e)(this,(function(e){switch(e.label){case 0:return Object(o.a)()||!0!==this._ready||!0!==this._initialized?(this.scheduleFlush(),[2]):(this.flushing=!0,t=this,[4,w(this,this.buffer)]);case 1:return t.buffer=e.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}}))}))}),5e3*Math.random())},t}();function _(t,e,n,r,o,a){var u,d;if(void 0===n&&(n={}),void 0===r&&(r={}),Object(s.b)())return[];e.plan&&((r=null!=r?r:{}).plan=e.plan);var h=null!==(d=null===(u=e.middlewareSettings)||void 0===u?void 0:u.routingRules)&&void 0!==d?d:[],v=e.integrations,b=r.integrations,f=Object(l.a)(e,null!=r?r:{}),p=null==a?void 0:a.reduce((function(t,e){var n;return Object(i.a)(Object(i.a)({},t),((n={})[function(t){return("Integration"in t?t.Integration:t).prototype.name}(e)]=e,n))}),{}),g=new Set(Object(i.g)(Object(i.g)([],Object.keys(v).filter((function(t){return function(t,e){var n,i=e.type,r=e.bundlingStatus,o=e.versionSettings,a="unbundled"!==r&&("browser"===i||(null===(n=null==o?void 0:o.componentTypes)||void 0===n?void 0:n.includes("browser")));return!t.startsWith("Segment")&&"Iterable"!==t&&a}(t,v[t])})),!0),Object.keys(p||{}).filter((function(t){return Object(c.k)(v[t])||Object(c.k)(null==b?void 0:b[t])})),!0));return Array.from(g).filter((function(t){return!function(t,e){var n=!1===e.All&&void 0===e[t];return!1===e[t]||n}(t,n)})).map((function(e){var n=function(t){var e,n,i,r;return null!==(r=null!==(n=null===(e=null==t?void 0:t.versionSettings)||void 0===e?void 0:e.override)&&void 0!==n?n:null===(i=null==t?void 0:t.versionSettings)||void 0===i?void 0:i.version)&&void 0!==r?r:"latest"}(v[e]),i=new z(e,n,t,f[e],r,null==p?void 0:p[e]);return h.filter((function(t){return t.destinationName===e})).length>0&&o&&i.addMiddleware(o),i}))}}}]);
//# sourceMappingURL=0.webflow-bundle.js.map